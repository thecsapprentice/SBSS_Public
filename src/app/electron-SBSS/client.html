<html>
  <head>
    <title>Surgery Simulator</title>
    <link rel="stylesheet" type="text/css" href="static/client/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/client/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="static/client/css/bootstrap-slider.css">
    <link rel="stylesheet" type="text/css" href="static/client/css/jquery.mmenu.all.css">
    <link rel="stylesheet" type="text/css" href="static/client/simToolInterface2.css">
  </head>
  <body>

      <div id="wrapper">
          <div id="sidebar-wrapper">
              <ul class="sidebar-nav">                  
                  <li class="titletag">
                      <h3><b class="highlight">S</b>kin</h3>
                      <h3><b class="highlight">B</b>iophysics</h3>
                      <h3><b class="highlight">S</b>urgical</h3>
                      <h3><b class="highlight">S</b>imulator</h3>
                  </li>
                  <li><h3><b>TOOLS</b></h3></li>
                  <li><button class="btn btn-block togglable" id="view"><span>VIEW</span></button></li>
                  <li><button class="btn btn-block togglable disabled" id="hook"><span>HOOK</span></button></li>
                  <li><button class="btn btn-block togglable disabled" id="suture"><span>SUTURE</span></button></li>
                  <li><button class="btn btn-block togglable disabled" id="knife"><span>KNIFE</span></button></li> 
                  <li><button class="btn btn-block togglable disabled" id="excise"><span>EXCISE</span></button></li> 
                  <li><button class="btn btn-block" id="dump"><span>DUMP</span></button></li> 
                  <li><h3><b>SCENE</b></h3></li>
                  <li><button class="btn btn-block" id="load_scene" type="button" id="about" data-toggle="modal" data-target="#sceneBox">
                      <span>LOAD</span></button></li> 
                  <li><h3><b>EXAMPLES</b></h3></li>
                  <li><button class="btn btn-block" id="load_sequence" type="button" id="about" data-toggle="modal" data-target="#exampleBox">
                      <span>LOAD</span></button></li> 
                  <li><button class="btn btn-block" id="next"><span>NEXT</span></button></li> 
                  <li><button class="btn btn-block" id="save_sequence"><span>SAVE</span></button></li> 
                  <li><h3><b>---------</b></h3></li>
                  <li><button class="btn btn-block" id="help"><span>HELP</span></button></li> 
                  <li><button class="btn btn-block" type="button" id="about" data-toggle="modal" data-target="#aboutBox" >
                      <span>ABOUT</span></button></li> 
                  <li><button class="btn btn-block" id="disconnect"><span>DISCONNECT</span></button></li> 

                  <!-- <li><button class="btn btn-block" type="button" id="displaysettings" data-toggle="modal" data-target="#displaysettingsBox" > <span>SETTINGS</span></button></li> -->
                  <li><button class="btn btn-block" type="button" id="displaysettings"> <span>SETTINGS</span></button></li>

              </ul>
          </div>
          <div id="page-content-wrapper">
              <div class="page-content">
                  <div id="container">
                  </div>
              </div>
          </div>
          <nav id="settings-menu">
              <h2>Settings</h2> 
              <div class="input-group">
                  <span class="input-group-btn">
                      <button class="btn btn-block disabled" id="debug"><span>Toggle Debug Mesh</span></button>
                  </span>
              </div>
              
              <div class="input-group">
                  <span class="input-group-addon" id="data-overlay-percent-label">Percentage of Data Overlay Blending</span><br>
                  <input id="data-overlay-percent" data-slider-id='data-overlay-percent_Slider' type="text" data-slider-min="0.0" data-slider-max="1.0" data-slider-step="0.1" data-slider-value="1.0"/>
              </div>
              
              
              <div class="input-group">
                  <span class="input-group-addon" id="data-overlay-use-magnitude-label">Use data magnitude</span>
                  <input id="data-overlay-use-magnitude" type="checkbox" aria-labelledby="data-overlay-use-magnitude-label" >
              </div>
              
              <div class="input-group">
                  <span class="input-group-addon" id="data-overlay-use-magnitude-label">Data Display</span>
                  <br/>
                  <input id="data-overlay-use-stress" name="data-overlay-selector" type="radio" value="stress" aria-labelledby="data-overlay-use-magnitude-label" >Stress
                  <br/>
                  <input id="data-overlay-use-strain" name="data-overlay-selector" type="radio" value="strain" aria-labelledby="data-overlay-use-magnitude-label" >Strain
              </div>
              
              <div class="input-group">
                  <span class="input-group-addon" id="data-overlay-strain_range-label">Strain Range</span>
                  <input id="data-overlay-strain_range" data-slider-id='data-overlay-strain_range_Slider' type="text">
              </div>
              
              <div class="input-group">
                  <span class="input-group-addon" id="data-overlay-stress_range-label">Stress Range</span>
                  <input id="data-overlay-stress_range" data-slider-id='data-overlay-stress_range_Slider' type="text">
              </div>
              
          </nav>
      </div>
      

      <div class="modal fade" id="aboutBox" role="dialog" aria-labelledby="aboutBox-label">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="aboutBox-label">About</h4>
                  </div>
                  <div class="modal-body">
                      <p><a class="label label-info" href="http://pages.cs.wisc.edu/~sifakis/"><span>Nathan Mitchell</span></a></p>
                      <p><a class="label label-info" href="http://pages.cs.wisc.edu/~sifakis/"><span>Eftychios Sifakis</span></a></p>
                      <p><a class="label label-info" href="http://www.courtcuttingmd.com/"><span>Court Cutting</span></a></p>
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
              </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

      <div class="modal fade" id="sceneBox" role="dialog" aria-labelledby="sceneBox-label">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="sceneBox-label">Select an example to load:</h4>
                  </div>
                  <div class="modal-body">
                      <div id="scenes">
                          <div id="scene_1" class="scene_choice" scene_number="1">zPlasty</div>
                          <div id="scene_2" class="scene_choice" scene_number="2">Curved zPlasty</div>
                          <div id="scene_3" class="scene_choice" scene_number="3">Square</div>
                          <div id="scene_4" class="scene_choice" scene_number="4">Scalp</div>
                      </div>                      
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
              </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

      <div class="modal fade" id="exampleBox" role="dialog" aria-labelledby="exampleBox-label">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="exampleBox-label">Select an example to load:</h4>
                  </div>
                  <div class="modal-body">
                      <div id="examples">
                          <div id="example_1" class="example_choice" example_number="1">Single Zplasty</div>
                          <div id="example_2" class="example_choice" example_number="2">Dual Zplasties</div>
                          <div id="example_3" class="example_choice" example_number="3">3D Zplasty 60 degrees</div>
                          <div id="example_4" class="example_choice" example_number="4">3D Zplasty 85 degrees</div>
                          <div id="example_5" class="example_choice" example_number="5">Rhomboid Flap</div>
                          <div id="example_6" class="example_choice" example_number="6">S Plasty</div>
                          <div id="example_7" class="example_choice" example_number="7">Scalp Rotation</div>
                          <div id="example_8" class="example_choice" example_number="8">Scalp Dual S Plasties</div>       
                          <div id="example_9" class="example_choice" example_number="9">Dufourmentel-Mouly</div>
                      </div>                     
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
              </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
    
      <div class="modal fade" id="displaysettingsBox" role="dialog" aria-labelledby="displaysettingsBox-label">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="displaysettingsBox-label">Display Settings</h4>
                  </div>
                  <div class="modal-body">                    
                      
                     
                      
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
              </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

    <div id="commandBox" class="disabled">
      <ul>        
      </ul>
    </div>

    <div id="processingMessage" class="disabled">
      <span>Processing... Please wait.</span>
    </div>

      </div>
      
      <script>
       window.nodeRequire = require;
       delete window.require;
       delete window.exports;
       delete window.module;
      </script>
      
      <script src="static/client/js/signals.min.js"></script>
      <script src="static/client/js/jquery-2.1.3.js"></script>
      <script src="static/client/js/FileSaver.js"></script>
      <script src="static/client/js/three.js"></script>
      <script src="static/client/js/three/Detector.js"></script>
      <script src="static/client/js/three/libs/stats.min.js"></script>
      <script src="static/client/js/three/controls/TrackballControls.js"></script>
      <script src="static/client/js/three/modifiers/SubdivisionModifier.js"></script>
      <script src="static/client/js/jsbvh.js"></script>
      <script src="static/client/js/bootstrap.min.js"></script>
      <script src="static/client/js/bootstrap-slider.js"></script>
      <script src="static/client/js/jquery.mmenu.min.all.js"></script>
      
      <script src="static/client/js/Communication.js"></script>
      <script src="static/client/js/MasterScene.js"></script>
      <script src="static/client/js/ModelScene.js"></script>
      <script src="static/client/js/ToolScene.js"></script>
      <script src="static/client/js/ToolsGui.js"></script>
      
      <script>
       var masterscene = null;
       
       function init(){
           masterscene = new MasterScene();
           masterscene.container = document.getElementById( 'container' );
           masterscene.comm = new Communications();
           
           masterscene.comm.connect( 'ws://localhost:8080', true );
           
           masterscene.initialize();
           masterscene.render(0);
       }
       
       init();
      </script>
      
  </body>
</html>
